{"is_source_file": true, "format": "Python", "description": "This file defines several Django REST Framework viewsets for managing expense tracker resources such as categories, expenses, budgets, and recurring rules. It includes mixins for user-specific query filtering and serialization context injection, along with detailed configuration for filtering and ordering. It also imports models, serializers, and permissions specific to the application.", "external_files": ["django.db.models", "rest_framework.viewsets", "rest_framework.filters", "rest_framework.permissions", ".models", ".permissions", ".serializers"], "external_methods": ["QuerySet.filter", "QuerySet.none", "getattr", "super().get_queryset", "super().get_serializer_context"], "published": ["CategoryViewSet", "ExpenseViewSet", "BudgetViewSet", "RecurringRuleViewSet"], "classes": [{"name": "OwnedQuerysetMixin", "description": "Mixin that scopes queryset to the authenticated user and injects the request into serializer context."}, {"name": "CategoryViewSet", "description": "ModelViewSet for CRUD operations on user-owned categories."}, {"name": "ExpenseViewSet", "description": "ModelViewSet for CRUD operations on user-owned expenses, with filtering capabilities."}, {"name": "BudgetViewSet", "description": "ModelViewSet for CRUD operations on user-owned budgets."}, {"name": "RecurringRuleViewSet", "description": "ModelViewSet for CRUD operations on user-owned recurring rules."}], "methods": [{"name": "QuerySet get_queryset(self)", "description": "Returns a filtered queryset scoped to the authenticated user, or an empty set if not authenticated.", "scope": "OwnedQuerysetMixin", "scopeKind": "class"}, {"name": "dict get_serializer_context(self)", "description": "Injects the request object into serializer context for further use in serializers.", "scope": "OwnedQuerysetMixin", "scopeKind": "class"}], "calls": ["super().get_queryset", "getattr(self.request, 'user', None)", "qs.filter", "qs.none", "super().get_serializer_context"], "search-terms": ["Django REST Framework viewsets", "user-specific queryset filtering", "Expense API filtering", "expense tracker API", "serializers and permissions in viewsets", "model viewset filtering and ordering"], "state": 2, "file_id": 22, "knowledge_revision": 56, "git_revision": "7b8daf2382c76c91a854af078e94a3cb6197524c", "revision_history": [{"52": "7b8daf2382c76c91a854af078e94a3cb6197524c"}, {"56": "7b8daf2382c76c91a854af078e94a3cb6197524c"}], "ctags": [{"_type": "tag", "name": "BudgetViewSet", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^class BudgetViewSet(OwnedQuerysetMixin, viewsets.ModelViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "CategoryViewSet", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^class CategoryViewSet(OwnedQuerysetMixin, viewsets.ModelViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ExpenseViewSet", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^class ExpenseViewSet(OwnedQuerysetMixin, viewsets.ModelViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "OwnedQuerysetMixin", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^class OwnedQuerysetMixin:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecurringRuleViewSet", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^class RecurringRuleViewSet(OwnedQuerysetMixin, viewsets.ModelViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "filter_backends", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    filter_backends = [filters.OrderingFilter]$/", "language": "Python", "kind": "variable", "scope": "BudgetViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "filter_backends", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    filter_backends = [filters.OrderingFilter]$/", "language": "Python", "kind": "variable", "scope": "ExpenseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "filter_backends", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    filter_backends = [filters.OrderingFilter]$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "get_queryset", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    def get_queryset(self) -> QuerySet:$/", "language": "Python", "typeref": "typename:QuerySet", "kind": "member", "signature": "(self)", "scope": "ExpenseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "get_queryset", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    def get_queryset(self) -> QuerySet:$/", "language": "Python", "typeref": "typename:QuerySet", "kind": "member", "signature": "(self)", "scope": "OwnedQuerysetMixin", "scopeKind": "class"}, {"_type": "tag", "name": "get_serializer_context", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    def get_serializer_context(self) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "member", "signature": "(self)", "scope": "OwnedQuerysetMixin", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    ordering = [\"-date\", \"-created_at\"]$/", "language": "Python", "kind": "variable", "scope": "ExpenseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    ordering = [\"-start_date\", \"-created_at\"]$/", "language": "Python", "kind": "variable", "scope": "BudgetViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "ordering", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    ordering = [\"name\"]$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "ordering_fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    ordering_fields = [\"date\", \"created_at\", \"amount\"]$/", "language": "Python", "kind": "variable", "scope": "ExpenseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "ordering_fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    ordering_fields = [\"name\", \"start_date\", \"created_at\"]$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "ordering_fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    ordering_fields = [\"start_date\", \"end_date\", \"amount\", \"created_at\"]$/", "language": "Python", "kind": "variable", "scope": "BudgetViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    permission_classes = [IsAuthenticated, IsOwner]$/", "language": "Python", "kind": "variable", "scope": "BudgetViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    permission_classes = [IsAuthenticated, IsOwner]$/", "language": "Python", "kind": "variable", "scope": "CategoryViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    permission_classes = [IsAuthenticated, IsOwner]$/", "language": "Python", "kind": "variable", "scope": "ExpenseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    permission_classes = [IsAuthenticated, IsOwner]$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    queryset = Budget.objects.select_related(\"category\").all()$/", "language": "Python", "kind": "variable", "scope": "BudgetViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    queryset = Category.objects.all()$/", "language": "Python", "kind": "variable", "scope": "CategoryViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    queryset = Expense.objects.select_related(\"category\", \"recurring_rule\").all()$/", "language": "Python", "kind": "variable", "scope": "ExpenseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    queryset = RecurringRule.objects.select_related(\"category\").all()$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    serializer_class = BudgetSerializer$/", "language": "Python", "kind": "variable", "scope": "BudgetViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    serializer_class = CategorySerializer$/", "language": "Python", "kind": "variable", "scope": "CategoryViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    serializer_class = ExpenseSerializer$/", "language": "Python", "kind": "variable", "scope": "ExpenseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/viewsets.py", "pattern": "/^    serializer_class = RecurringRuleSerializer$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleViewSet", "scopeKind": "class"}], "hash": "9944abb3858534424b5aee204c5192bc", "format-version": 4, "code-base-name": "expense_tracker_backend", "filename": "expense_tracker_backend/api/viewsets.py", "fields": [{"name": "filter_backends = [filters.OrderingFilter]", "scope": "BudgetViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = [\"-date\", \"-created_at\"]", "scope": "ExpenseViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = [\"-start_date\", \"-created_at\"]", "scope": "BudgetViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering = [\"name\"]", "scope": "RecurringRuleViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering_fields = [\"date\", \"created_at\", \"amount\"]", "scope": "ExpenseViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering_fields = [\"name\", \"start_date\", \"created_at\"]", "scope": "RecurringRuleViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "ordering_fields = [\"start_date\", \"end_date\", \"amount\", \"created_at\"]", "scope": "BudgetViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "permission_classes = [IsAuthenticated, IsOwner]", "scope": "BudgetViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = Budget.objects.select_related(\"category\").all()", "scope": "BudgetViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = Category.objects.all()", "scope": "CategoryViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = Expense.objects.select_related(\"category\", \"recurring_rule\").all()", "scope": "ExpenseViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = RecurringRule.objects.select_related(\"category\").all()", "scope": "RecurringRuleViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = BudgetSerializer", "scope": "BudgetViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = CategorySerializer", "scope": "CategoryViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = ExpenseSerializer", "scope": "ExpenseViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = RecurringRuleSerializer", "scope": "RecurringRuleViewSet", "scopeKind": "class", "description": "unavailable"}]}