{"is_source_file": true, "format": "Python", "description": "This is a serializer module for a Django REST Framework project, defining serializers for models like Category, Expense, Budget, and RecurringRule with user ownership enforcement.", "external_files": ["django.contrib.auth", "rest_framework.serializers", "./models"], "external_methods": ["get_user_model", "serializers.ModelSerializer", "serializers.PrimaryKeyRelatedField", "serializers.ValidationError"], "published": ["CategorySerializer", "ExpenseSerializer", "BudgetSerializer", "RecurringRuleSerializer"], "classes": [{"name": "OwnedModelSerializer", "description": "Base serializer that enforces the 'user' field to be set to the request's user, ensuring ownership consistency during create and update operations."}, {"name": "CategorySerializer", "description": "Serializer for Category objects, tied to the authenticated user."}, {"name": "ExpenseSerializer", "description": "Serializer for Expense objects, allowing optional relations to Category and RecurringRule, with validation to ensure related objects belong to the same user."}, {"name": "BudgetSerializer", "description": "Serializer for Budget objects, optionally scoped to a Category, with validation to ensure user ownership."}, {"name": "RecurringRuleSerializer", "description": "Serializer for RecurringRule objects, with optional Category reference and user validation."}], "methods": [{"name": "Any create(self, validated_data: dict[str, Any])", "description": "Sets the 'user' field to request.user if available during object creation.", "scope": "OwnedModelSerializer", "scopeKind": "class"}, {"name": "Any update(self, instance: Any, validated_data: dict[str, Any])", "description": "Removes 'user' from validated_data to prevent user takeover attempts during update.", "scope": "OwnedModelSerializer", "scopeKind": "class"}, {"name": "Category|None validate_category(self, value: Category | None)", "description": "Validates that the category belongs to the requesting user.", "scope": "RecurringRuleSerializer", "scopeKind": "class"}, {"name": "RecurringRule|None validate_recurring_rule(self, value: RecurringRule | None)", "description": "Validates that the recurring rule belongs to the requesting user.", "scope": "ExpenseSerializer", "scopeKind": "class"}], "calls": ["super().create(validated_data)", "super().update(instance, validated_data)"], "search-terms": ["Django REST Framework serializers", "Ownership enforcement", "CategorySerializer", "ExpenseSerializer", "BudgetSerializer", "RecurringRuleSerializer", "user validation"], "state": 2, "file_id": 20, "knowledge_revision": 48, "git_revision": "", "ctags": [{"_type": "tag", "name": "BudgetSerializer", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^class BudgetSerializer(OwnedModelSerializer):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "CategorySerializer", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^class CategorySerializer(OwnedModelSerializer):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ExpenseSerializer", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^class ExpenseSerializer(OwnedModelSerializer):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "BudgetSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "CategorySerializer", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "ExpenseSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "RecurringRuleSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "OwnedModelSerializer", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^class OwnedModelSerializer(serializers.ModelSerializer):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecurringRuleSerializer", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^class RecurringRuleSerializer(OwnedModelSerializer):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^User = get_user_model()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    category = serializers.PrimaryKeyRelatedField($/", "language": "Python", "kind": "variable", "scope": "BudgetSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    category = serializers.PrimaryKeyRelatedField($/", "language": "Python", "kind": "variable", "scope": "ExpenseSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    category = serializers.PrimaryKeyRelatedField($/", "language": "Python", "kind": "variable", "scope": "RecurringRuleSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    def create(self, validated_data: dict[str, Any]) -> Any:$/", "language": "Python", "typeref": "typename:Any", "kind": "member", "signature": "(self, validated_data: dict[str, Any])", "scope": "OwnedModelSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        fields = [$/", "language": "Python", "kind": "variable", "scope": "BudgetSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        fields = [$/", "language": "Python", "kind": "variable", "scope": "ExpenseSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        fields = [$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        fields = [\"id\", \"name\", \"description\", \"is_active\", \"created_at\", \"updated_at\", \"user\"]$/", "language": "Python", "kind": "variable", "scope": "CategorySerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        model = Budget$/", "language": "Python", "kind": "variable", "scope": "BudgetSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        model = Category$/", "language": "Python", "kind": "variable", "scope": "CategorySerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        model = Expense$/", "language": "Python", "kind": "variable", "scope": "ExpenseSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        model = RecurringRule$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "read_only_fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        read_only_fields = [\"id\", \"created_at\", \"updated_at\", \"user\"]$/", "language": "Python", "kind": "variable", "scope": "BudgetSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "read_only_fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        read_only_fields = [\"id\", \"created_at\", \"updated_at\", \"user\"]$/", "language": "Python", "kind": "variable", "scope": "CategorySerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "read_only_fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        read_only_fields = [\"id\", \"created_at\", \"updated_at\", \"user\"]$/", "language": "Python", "kind": "variable", "scope": "ExpenseSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "read_only_fields", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^        read_only_fields = [\"id\", \"created_at\", \"updated_at\", \"user\"]$/", "language": "Python", "kind": "variable", "scope": "RecurringRuleSerializer.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "recurring_rule", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    recurring_rule = serializers.PrimaryKeyRelatedField($/", "language": "Python", "kind": "variable", "scope": "ExpenseSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    def update(self, instance: Any, validated_data: dict[str, Any]) -> Any:$/", "language": "Python", "typeref": "typename:Any", "kind": "member", "signature": "(self, instance: Any, validated_data: dict[str, Any])", "scope": "OwnedModelSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    user = serializers.PrimaryKeyRelatedField(read_only=True)$/", "language": "Python", "kind": "variable", "scope": "OwnedModelSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "validate_category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    def validate_category(self, value: Category | None) -> Category | None:$/", "language": "Python", "typeref": "typename:Category|None", "kind": "member", "signature": "(self, value: Category | None)", "scope": "BudgetSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "validate_category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    def validate_category(self, value: Category | None) -> Category | None:$/", "language": "Python", "typeref": "typename:Category|None", "kind": "member", "signature": "(self, value: Category | None)", "scope": "ExpenseSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "validate_category", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    def validate_category(self, value: Category | None) -> Category | None:$/", "language": "Python", "typeref": "typename:Category|None", "kind": "member", "signature": "(self, value: Category | None)", "scope": "RecurringRuleSerializer", "scopeKind": "class"}, {"_type": "tag", "name": "validate_recurring_rule", "path": "/home/kavia/workspace/code-generation/personal-expense-tracker-181971-181980/expense_tracker_backend/api/serializers.py", "pattern": "/^    def validate_recurring_rule(self, value: RecurringRule | None) -> RecurringRule | None:$/", "language": "Python", "typeref": "typename:RecurringRule|None", "kind": "member", "signature": "(self, value: RecurringRule | None)", "scope": "ExpenseSerializer", "scopeKind": "class"}], "hash": "25a92e35ff2e10c697cfdbf05d3fb935", "format-version": 4, "code-base-name": "expense_tracker_backend", "filename": "expense_tracker_backend/api/serializers.py", "fields": [{"name": "User = get_user_model()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "category = serializers.PrimaryKeyRelatedField(", "scope": "BudgetSerializer", "scopeKind": "class", "description": "unavailable"}, {"name": "fields = [", "scope": "BudgetSerializer.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "fields = [\"id\", \"name\", \"description\", \"is_active\", \"created_at\", \"updated_at\", \"user\"]", "scope": "CategorySerializer.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "model = Budget", "scope": "BudgetSerializer.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "model = Category", "scope": "CategorySerializer.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "model = Expense", "scope": "ExpenseSerializer.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "model = RecurringRule", "scope": "RecurringRuleSerializer.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "read_only_fields = [\"id\", \"created_at\", \"updated_at\", \"user\"]", "scope": "BudgetSerializer.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "recurring_rule = serializers.PrimaryKeyRelatedField(", "scope": "ExpenseSerializer", "scopeKind": "class", "description": "unavailable"}, {"name": "user = serializers.PrimaryKeyRelatedField(read_only=True)", "scope": "OwnedModelSerializer", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"48": ""}]}